<!DOCTYPE html>
<html>
  <head>
    <script>
      function intrudcirNumeros() {
        var salir = false;
        var listadoNum = [];
        var posicion = 0;

        while (!salir) {
          var preguntaNumeros = prompt(
            "Introduce los numeros (pulse f para salir): ",
            ""
          );

          if (preguntaNumeros == "f") {
            alert("Numeros introducidos correctamente");
            salir = true;
          } else {
            listadoNum[posicion] = Number(preguntaNumeros);
            posicion++;
          }
        }
        return listadoNum;
      }

      function media(listado) {
        var suma = 0;
        var m;

        for(var i = 0; i < listado.length; i++) {
            suma += listado[i]
        }

        m = suma/listado.length;
        alert(m);

      }

      function rango(listado) {

        var valorMasALto = 0;
        var valorMasBajo = listado[0];


        // Para conocoer cual es el numero mas alto
        for(var i = 0; i < listado.length; i++) {
            var numero = listado[i];
            if (numero > valorMasALto) {
                valorMasALto = numero;
            }
        }

        // Para conocoer cual es el numero mas alto
        for(var i = 0; i < listado.length; i++) {
            numero = listado[i++];
            if (valorMasBajo > numero) {
                valorMasBajo = numero;
            }
        }

        var r = valorMasALto - valorMasBajo;
        alert(r);

      }

      function moda(listado) {

        /**
         * EJEMPLOS 
         * 1) (3,1,5,3,6) -> m = 3
         * 2) (3,1,5,5,3,1) -> m = 'No tiene moda'
         * 3) (3,2,1,5,3,1) -> m= 1,3
         * 4) (3,1,5,3,1) -> m = (1+3)/2
         * 5) (3,1,5,5,6,1,3) -> m= 1,3,5
         * 5) (3,1,2,5,7) -> m= 'No tiene moda'
         */ 
        var m;
        var b = []; 
        var existeEnMedio = false; 
        var frecuenciaMax = 0;
        var contador = 0;

        for (var i = 0; i<listado.length; i++) {
          if (b[listado[i]] == undefined) {
            b[listado[i]]=i
          } else {
            b[listado[i]]++;
          }
        }

        for (var i = 0; i<listado.length; i++){
          if(b[listado[i]] > frecuenciaMax) {
            frecuenciaMax = b[listado[i]]
          }
        }

        for (var i = 0;i<listado.length; i++){
          
        }
        



      }

      function principal() {
        var lista = intrudcirNumeros()
        media(lista);
        rango(lista);
        moda(lista);

      }



    </script>
  </head>
  <body onload="principal()"></body>
</html>
